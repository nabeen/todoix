# タスク: 043 エンドツーエンドフローの自動テスト

## ゴール

- CLI起動からタスク取得・UI表示までの主要シナリオを自動テストで確認できるようにする

## 作業内容

- `packages/cli/tests/e2e.test.ts`を作成し、Keytar・Todoist API・Inkレンダリングをモックしてフローを検証する
- トークン未保存→入力→保存→フェッチ→一覧表示のシナリオをテストする
- エラーシナリオ（API失敗・設定不正）で適切なメッセージと終了コードが返ることを確認する

## 完了条件

- `pnpm -C packages/cli test`でエンドツーエンドテストが成功する
- 主要なユーザーフローの回帰がテストで検出可能になる

## 依存関係

- docs/task/042-cli-error-handling.md
